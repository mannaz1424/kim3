'use strict';

var joinApp = angular.module("joinApp", ['ngStorage','commonApp']);

//팩토리 정의
joinApp.factory("JoinService",function($http){

    //메서드 정의
    var service = {
        findId : findIdAjax,
        findPw : findPwAjax,
        idChk : idChkAjax,
        insertMember : insertMemberAjax,
        memberLogin : memberLoginAjax,
        updatePw : updatePwAjax
    };
    
    return service;
    
    //메서드 구현
    function findIdAjax(param) {
        return $http.post("/join/findIdAjax.ans", param).then(handleSuccess, handleError);
    }
    
    function findPwAjax(param) {
        return $http.post("/join/findPwAjax.ans", param).then(handleSuccess, handleError);
    }

    function idChkAjax(param) {
        return $http.post("/join/idChkAjax.ans", param).then(handleSuccess, handleError);
    }
    
    function insertMemberAjax(param) {
        return $http.post("/join/insertMemberAjax.ans", param).then(handleSuccess, handleError);
    }

    function memberLoginAjax(param) {
        return $http.post("/join/memberLoginAjax.ans", param).then(handleSuccess, handleError);
    }
    
    function updatePwAjax(param) {
        return $http.post("/join/updatePw.ans", param).then(handleSuccess, handleError);
    }
    
    
    /*function thirdLoginAjax(url,param){
        return $http.post(url).then(handleSuccess,handleError);
    }*/
/**********************************************************************************************************************/    
    //private functions
    function handleSuccess(res){
        return res.data;
    }
    
    function handleError(error){
        return function(){
            return {success: false, message: error};
        };
    }
    
});